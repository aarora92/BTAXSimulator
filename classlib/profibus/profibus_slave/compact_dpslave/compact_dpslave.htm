<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <META NAME="Generator" CONTENT="Microsoft Word 97">
   <META NAME="Microsoft Theme" CONTENT="none, default">
   <META NAME="Microsoft Border" CONTENT="none, default">
   <META NAME="Template" CONTENT="C:\Programme\Office97\Office\html.dot">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.05 [de] (WinNT; I) [Netscape]">
   <TITLE>Compact Profibus DP Slave</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" LINK="#0000FF" VLINK="#800080">
&nbsp;
<BR>&nbsp;
<TABLE BORDER=0 CELLSPACING=0 CELLPADDING=4 WIDTH="796" >
<TR>
<TD VALIGN=TOP WIDTH="97%" HEIGHT="53" BGCOLOR="#808080"><B><FONT FACE="Arial,Helvetica"><FONT COLOR="#FFFFFF"><FONT SIZE=+4>Compact
Profibus DP Slave</FONT></FONT></FONT></B></TD>
</TR>
</TABLE>
<A NAME="Features"></A>
<BR><B><FONT FACE="Arial,Helvetica"><FONT COLOR="#0000FF"><FONT SIZE=+3>Features</FONT></FONT></FONT></B>

<P><FONT FACE="Arial,Helvetica">The compact profibus DP slave class serves
as model to create your own compact Profibus DP slave.</FONT>
<BR>&nbsp;

<P><FONT FACE="Arial,Helvetica"><FONT SIZE=+1><A HREF="#Features">Features</A>
| <A HREF="#Installation">lnstallation </A>| <A HREF="#UserInterface">User
Interface</A> | <A HREF="#Configuration">Configuration</A> | <A HREF="#implementation">Implementation
Notes</A></FONT></FONT>

<P>
<HR ALIGN="LEFT" WIDTH="90%">

<P><A NAME="Installation"></A>
<BR><B><FONT FACE="Arial,Helvetica"><FONT COLOR="#0000FF"><FONT SIZE=+3>Installation</FONT></FONT></FONT></B>

<P>&nbsp;<FONT FACE="Arial,Helvetica">The compact profibus DP slave class
is comprised of the following components (files):</FONT>
<BR>&nbsp;
<BR>&nbsp;
<BR>&nbsp;
<BR>&nbsp;
<TABLE BORDER CELLSPACING=2 CELLPADDING=4 WIDTH="703" >
<TR>
<TD VALIGN=TOP WIDTH="24%" BGCOLOR="#FFFFFF"><B><FONT FACE="Arial,Helvetica">Class
Component</FONT></B></TD>

<TD VALIGN=TOP WIDTH="42%" BGCOLOR="#FFFFFF"><B><FONT FACE="Arial,Helvetica">Description</FONT></B></TD>

<TD VALIGN=TOP WIDTH="34%" BGCOLOR="#FFFFFF"><B><FONT FACE="Arial,Helvetica">File
Name(s)</FONT></B></TD>
</TR>

<TR>
<TD VALIGN=TOP WIDTH="24%"><B><FONT FACE="Arial,Helvetica">Class Color
File</FONT></B></TD>

<TD VALIGN=TOP WIDTH="42%"><FONT FACE="Arial,Helvetica">Includes some class
specific color definitions.</FONT></TD>

<TD VALIGN=TOP WIDTH="34%">&nbsp;<FONT FACE="Arial,Helvetica">compact_dpslave.color</FONT></TD>
</TR>

<TR>
<TD VALIGN=TOP WIDTH="24%"><B><FONT FACE="Arial,Helvetica">Class File</FONT></B></TD>

<TD VALIGN=TOP WIDTH="42%"><FONT FACE="Arial,Helvetica">Includes the process
picture representation and any popup menus.</FONT></TD>

<TD VALIGN=TOP WIDTH="34%"><FONT FACE="Arial,Helvetica">compact_dpslave.symbol</FONT>&nbsp;

<P>&nbsp;</TD>
</TR>

<TR>
<TD VALIGN=CENTER><B><FONT FACE="Arial,Helvetica">Enumerator Files</FONT></B></TD>

<TD VALIGN=CENTER><FONT FACE="Arial,Helvetica">Difines the enumerator for
the class</FONT></TD>

<TD VALIGN=CENTER><FONT FACE="Arial,Helvetica">compact_dpslave.enum</FONT>&nbsp;</TD>
</TR>

<TR>
<TD VALIGN=TOP WIDTH="24%"><B><FONT FACE="Arial,Helvetica">Graphic Files</FONT></B></TD>

<TD VALIGN=TOP WIDTH="42%"><FONT FACE="Arial,Helvetica">Class specific
graphic files for both, class definition and documentation.</FONT></TD>

<TD VALIGN=TOP WIDTH="34%"><FONT FACE="Arial,Helvetica">axtrend16.bmp</FONT>&nbsp;
<BR><FONT FACE="Arial,Helvetica">axtrend_grey16.bmp</FONT>&nbsp;
<BR><FONT FACE="Arial,Helvetica">axservice16.bmp</FONT>&nbsp;
<BR><FONT FACE="Arial,Helvetica">axservice_grey16.bmp</FONT>&nbsp;
<BR><FONT FACE="Arial,Helvetica">axparam16.bmp</FONT>&nbsp;
<BR><FONT FACE="Arial,Helvetica">axparam_grey16.bmp</FONT>&nbsp;
<BR><FONT FACE="Arial,Helvetica">axinstancedocu16.bmp</FONT>&nbsp;
<BR><FONT FACE="Arial,Helvetica">axinstancedocu_grey16.bmp</FONT>&nbsp;
<BR><FONT FACE="Arial,Helvetica">axclassdocu16.bmp</FONT>&nbsp;
<BR><FONT FACE="Arial,Helvetica">axclassdocu_grey16.bmp</FONT>&nbsp;
<BR>&nbsp;

<P><FONT FACE="Arial,Helvetica">(and&nbsp; some documentation pixel maps)</FONT></TD>
</TR>

<TR>
<TD VALIGN=TOP WIDTH="24%"><B><FONT FACE="Arial,Helvetica">HTML-Document</FONT></B></TD>

<TD VALIGN=TOP WIDTH="42%"><FONT FACE="Arial,Helvetica">HTML document for
online help.</FONT></TD>

<TD VALIGN=TOP WIDTH="34%"><FONT FACE="Arial,Helvetica">compact_dpslave.htm</FONT></TD>
</TR>
</TABLE>
<B><FONT FACE="Arial,Helvetica">Installation: </FONT>The above listed files
must be copied into a common sub-directory within the project's "classlib"
directory. The name of the common directory can be chosen freely.</B>
<BR>&nbsp;
<BR>&nbsp;
<BR><FONT FACE="Arial,Helvetica"><FONT SIZE=+1><A HREF="#Features">Features</A>
| <A HREF="#Installation">lnstallation </A>| <A HREF="#UserInterface">User
Interface</A> | <A HREF="#Configuration">Configuration</A> | <A HREF="#implementation">Implementation
Notes</A></FONT></FONT>

<P>
<HR ALIGN="LEFT" WIDTH="90%">

<P><A NAME="UserInterface"></A>
<BR><B><FONT FACE="Arial,Helvetica"><FONT COLOR="#0000FF"><FONT SIZE=+3>User
Interface</FONT></FONT></FONT></B>

<P><FONT FACE="Arial,Helvetica">The compact profibus DP slave graphical
representation consis of two units: the upper one is the slave unit, the
lower one is the I/O unit.</FONT>

<P><FONT FACE="Arial,Helvetica">The slave unit shows the unique name identifier
($Instance), LED's for Service Fault (SF), Bus Fault (BF) and Power Display
(ON), the profibus DP slave address (ADDRESS)</FONT>
<BR><FONT FACE="Arial,Helvetica">and the profibus DP slave status display.</FONT>

<P><FONT FACE="Arial,Helvetica">The I/O unit displays the graphical representations
of 16 digital outputs including the LED and a display for the reference
names of each channel.</FONT>

<P>&nbsp;
<BR>&nbsp;
<BR>&nbsp;
<BR>&nbsp;
<TABLE BORDER CELLSPACING=3 CELLPADDING=3 WIDTH="700" >
<TR>
<TD VALIGN=CENTER WIDTH="25%"><B><FONT FACE="Arial,Helvetica">Indication</FONT></B></TD>

<TD VALIGN=CENTER WIDTH="15%"><B><FONT FACE="Arial,Helvetica">State</FONT></B></TD>

<TD VALIGN=CENTER WIDTH="70%"><B><FONT FACE="Arial,Helvetica">Condition</FONT></B></TD>
</TR>

<TR>
<TD VALIGN=CENTER WIDTH="25%"><FONT FACE="Arial,Helvetica">Bus Fault</FONT>&nbsp;
<BR><FONT FACE="Arial,Helvetica">(BF)</FONT></TD>

<TD VALIGN=CENTER><FONT FACE="Arial,Helvetica">red flashing</FONT>&nbsp;

<P><FONT FACE="Arial,Helvetica">red</FONT></TD>

<TD VALIGN=CENTER><FONT FACE="Arial,Helvetica">Wrong parameterization -
no data transfere beteween DP master and compact profibus DP slave</FONT>&nbsp;
<BR><FONT FACE="Arial,Helvetica">Wrong baud rate or DP-address</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER><FONT FACE="Arial,Helvetica">Service Fault</FONT>&nbsp;
<BR><FONT FACE="Arial,Helvetica">(SF)</FONT></TD>

<TD VALIGN=CENTER><FONT FACE="Arial,Helvetica">red</FONT></TD>

<TD VALIGN=CENTER><FONT FACE="Arial,Helvetica">Configuration is not the
same as defined in the PLC</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER><FONT FACE="Arial,Helvetica">ON</FONT></TD>

<TD VALIGN=CENTER><FONT FACE="Arial,Helvetica">green</FONT></TD>

<TD VALIGN=CENTER><FONT FACE="Arial,Helvetica">Power is on (will appear
grey when no power)</FONT></TD>
</TR>
</TABLE>
&nbsp;

<P><IMG SRC="graph_rep.gif" HEIGHT=544 WIDTH=161>

<P><FONT FACE="Arial,Helvetica"><FONT SIZE=-1>Figure 1: Graphical Representation</FONT></FONT>
<BR>&nbsp;

<P><FONT FACE="Arial,Helvetica">Figure 2 shows the <B>Address Popup</B>,
which is invoked by a mouse click on the slave unit of the graphical representation.
The popup displays the profibus address and the actual state of the module.
From here, you can change the profibus address, reset the module plus open
the HTML documentations.</FONT>
<BR>&nbsp;
<BR><IMG SRC="AddressPopup.gif" HEIGHT=245 WIDTH=178>
<BR>&nbsp;
<BR><FONT FACE="Arial,Helvetica"><FONT SIZE=-1>Figure 2: The Address PopUp</FONT></FONT>
<BR>&nbsp;

<P><FONT FACE="Arial,Helvetica">Figure 3 shows the <B>Error Popup</B>,
which will invoke if there are any new errors. The popup will display the
actual errors plus error messages.</FONT>

<P>&nbsp;
<BR><IMG SRC="Error_Popup.gif" HEIGHT=305 WIDTH=289>

<P><FONT FACE="Arial,Helvetica"><FONT SIZE=-1>Figure 3: Error Popup</FONT></FONT>
<BR>&nbsp;

<P><FONT FACE="Arial,Helvetica">Figure 4 shows the <B>Force PopUp </B>which
is invoked by a mouse click (left button) in I/O unit on the graphical
representation. The "Norm/Force" button allows each channel to be set to
force mode to simulate its value, which is necessary for testing the PLC-programs
when there is no connection to the I/O. The value of each channel is then
simulated (= forced) with the "ON/OFF" button in the respective section
(channel). This button is only active if the "Norm/Force" button is set
to "Force".</FONT>

<P>&nbsp;

<P><IMG SRC="Forcepopup.gif" HEIGHT=773 WIDTH=418>

<P><FONT FACE="Arial,Helvetica"><FONT SIZE=-1>Figure 4: Force Popup</FONT></FONT>
<BR>&nbsp;

<P><FONT FACE="Arial,Helvetica">Figure 5 shows the <B>Object Explorer</B>
in online mode (enter Shift and click right mouse button on the module
to invoke the object explorer). The user can see where the Instancename
and remarks are declared. A red rectangle indicator appears to the right
of the I/O name if the module is NOT VALID. The indicator will not be present
if the channel is forced or when the module is VALID.</FONT>

<P><IMG SRC="Explorer_popup.gif" HEIGHT=525 WIDTH=455>

<P><FONT FACE="Arial,Helvetica"><FONT SIZE=-1>Figure 5: Online Explorer
Popup</FONT></FONT>

<P><FONT FACE="Arial,Helvetica"><FONT SIZE=+1><A HREF="#Features">Features</A>
| <A HREF="#Installation">lnstallation </A>| <A HREF="#UserInterface">User
Interface</A> | <A HREF="#Configuration">Configuration</A> | <A HREF="#implementation">Implementation
Notes</A></FONT></FONT>

<P>
<HR ALIGN="LEFT" WIDTH="90%">
<BR>&nbsp;

<P>&nbsp;
<BR><A NAME="Configuration"></A>
<BR><B><FONT FACE="Arial,Helvetica"><FONT COLOR="#0000FF"><FONT SIZE=+3>Configuration</FONT></FONT></FONT></B>

<P><FONT FACE="Arial,Helvetica">The following table lists the configuration
parameters for the im compact profibus DP slave. The parameter data type,
the default values and a brief description are listed. The grey shaded
rows are parameters which must not be changed.</FONT>
<BR>&nbsp;
<BR>&nbsp;
<BR>&nbsp;
<BR>&nbsp;
<TABLE BORDER CELLPADDING=2 WIDTH="918" >
<TR>
<TD VALIGN=CENTER WIDTH="7%" HEIGHT="16"><B><FONT FACE="Arial,Helvetica"><FONT SIZE=+2>Item</FONT></FONT></B></TD>

<TD VALIGN=CENTER WIDTH="21%" HEIGHT="16" BGCOLOR="#FFFFFF"><B><FONT FACE="Arial,Helvetica"><FONT SIZE=+2>Variable</FONT></FONT></B></TD>

<TD VALIGN=CENTER HEIGHT="16"><B><FONT FACE="Arial,Helvetica"><FONT SIZE=+2>Type</FONT></FONT></B></TD>

<TD VALIGN=CENTER WIDTH="24%" HEIGHT="16" BGCOLOR="#FFFFFF"><B><FONT FACE="Arial,Helvetica"><FONT SIZE=+2>Default</FONT></FONT></B></TD>

<TD VALIGN=CENTER WIDTH="46%" HEIGHT="16" BGCOLOR="#FFFFFF"><B><FONT FACE="Arial,Helvetica"><FONT SIZE=+2>Description</FONT></FONT></B></TD>
</TR>

<TR>
<TD VALIGN=CENTER WIDTH="7%" HEIGHT="16" BGCOLOR="#FFFFFF">
<CENTER><FONT FACE="Arial,Helvetica">1-16</FONT></CENTER>
</TD>

<TD VALIGN=CENTER WIDTH="21%" HEIGHT="16" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">Q0_0
to Q1_7</FONT></TD>

<TD VALIGN=CENTER HEIGHT="16"><FONT FACE="Arial,Helvetica">BOOL</FONT></TD>

<TD VALIGN=CENTER WIDTH="24%" HEIGHT="16" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">NO</FONT></TD>

<TD VALIGN=CENTER WIDTH="46%" HEIGHT="16" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">Output
channels 0 - 16&nbsp;</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER>
<CENTER><FONT FACE="Arial,Helvetica">17</FONT></CENTER>
</TD>

<TD VALIGN=CENTER><FONT FACE="Arial,Helvetica">&nbsp;master</FONT></TD>

<TD VALIGN=CENTER><FONT FACE="Arial,Helvetica">ENUM:Master_Con</FONT></TD>

<TD VALIGN=CENTER><FONT FACE="Arial,Helvetica">MIO_0</FONT></TD>

<TD VALIGN=CENTER><FONT FACE="Arial,Helvetica">Connection to profibus master</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER WIDTH="7%" HEIGHT="22" BGCOLOR="#FFFFFF">
<CENTER><FONT FACE="Arial,Helvetica">18</FONT></CENTER>
</TD>

<TD VALIGN=CENTER WIDTH="21%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">&nbsp;address</FONT></TD>

<TD VALIGN=CENTER HEIGHT="22"><FONT FACE="Arial,Helvetica">USINT</FONT></TD>

<TD VALIGN=CENTER WIDTH="24%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">7&nbsp;</FONT></TD>

<TD VALIGN=CENTER WIDTH="46%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">Profibus
Slave address&nbsp;</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER WIDTH="7%" HEIGHT="22" BGCOLOR="#FFFFFF">
<CENTER><FONT FACE="Arial,Helvetica">19</FONT></CENTER>
</TD>

<TD VALIGN=CENTER WIDTH="21%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">&nbsp;wd_on</FONT></TD>

<TD VALIGN=CENTER HEIGHT="22"><FONT FACE="Arial,Helvetica">BOOL</FONT></TD>

<TD VALIGN=CENTER WIDTH="24%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">YES&nbsp;</FONT></TD>

<TD VALIGN=CENTER WIDTH="46%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">YES
activates the watch dog (wd) on the DP Slave&nbsp;</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER WIDTH="7%" HEIGHT="22" BGCOLOR="#FFFFFF">
<CENTER><FONT FACE="Arial,Helvetica">20</FONT></CENTER>
</TD>

<TD VALIGN=CENTER WIDTH="21%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">Wd_fact_1</FONT></TD>

<TD VALIGN=CENTER HEIGHT="22"><FONT FACE="Arial,Helvetica">USINT</FONT></TD>

<TD VALIGN=CENTER WIDTH="24%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">100</FONT></TD>

<TD VALIGN=CENTER WIDTH="46%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">Wd_fact_1
* wd_fact2 * 10ms is the delay for wd</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER WIDTH="7%" HEIGHT="22" BGCOLOR="#FFFFFF">
<CENTER><FONT FACE="Arial,Helvetica">21</FONT></CENTER>
</TD>

<TD VALIGN=CENTER WIDTH="21%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">Wd_fact_2</FONT></TD>

<TD VALIGN=CENTER HEIGHT="22"><FONT FACE="Arial,Helvetica">USINT</FONT></TD>

<TD VALIGN=CENTER WIDTH="24%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">3</FONT></TD>

<TD VALIGN=CENTER WIDTH="46%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">Wd_fact_1
* wd_fact2 * 10ms is the delay for wd</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER WIDTH="7%" HEIGHT="22">
<CENTER><FONT FACE="Arial,Helvetica">22</FONT></CENTER>
</TD>

<TD VALIGN=CENTER WIDTH="21%" HEIGHT="22"><FONT FACE="Arial,Helvetica">GSD</FONT></TD>

<TD VALIGN=CENTER HEIGHT="22"><FONT FACE="Arial,Helvetica">STRING</FONT></TD>

<TD VALIGN=CENTER WIDTH="24%" HEIGHT="22"><FONT FACE="Arial,Helvetica">????.GSD</FONT></TD>

<TD VALIGN=CENTER WIDTH="46%" HEIGHT="22"><FONT FACE="Arial,Helvetica">GSD
name for this Profibus DP Slave</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER WIDTH="7%" HEIGHT="22" BGCOLOR="#FFFFFF">
<CENTER><FONT FACE="Arial,Helvetica">23</FONT></CENTER>
</TD>

<TD VALIGN=CENTER WIDTH="21%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">group_ident</FONT></TD>

<TD VALIGN=CENTER HEIGHT="22"><FONT FACE="Arial,Helvetica">USINT</FONT></TD>

<TD VALIGN=CENTER WIDTH="24%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">0</FONT></TD>

<TD VALIGN=CENTER WIDTH="46%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">DP
Slave group identifier</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER WIDTH="7%" HEIGHT="22" BGCOLOR="#FFFFFF">
<CENTER><FONT FACE="Arial,Helvetica">24</FONT></CENTER>
</TD>

<TD VALIGN=CENTER WIDTH="21%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica"><FONT COLOR="#0000FF">freeze_mode</FONT></FONT></TD>

<TD VALIGN=CENTER HEIGHT="22"><FONT FACE="Arial,Helvetica">BOOL</FONT></TD>

<TD VALIGN=CENTER WIDTH="24%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">NO</FONT></TD>

<TD VALIGN=CENTER WIDTH="46%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">The
outputs on the slave system are frozen</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER WIDTH="7%" HEIGHT="22" BGCOLOR="#FFFFFF">
<CENTER><FONT FACE="Arial,Helvetica">25</FONT></CENTER>
</TD>

<TD VALIGN=CENTER WIDTH="21%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica"><FONT COLOR="#0000FF">unfreeze</FONT></FONT></TD>

<TD VALIGN=CENTER HEIGHT="22"><FONT FACE="Arial,Helvetica">BOOL</FONT></TD>

<TD VALIGN=CENTER WIDTH="24%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">NO</FONT></TD>

<TD VALIGN=CENTER WIDTH="46%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">Deactivate
the freeze mode&nbsp;</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER WIDTH="7%" HEIGHT="22" BGCOLOR="#FFFFFF">
<CENTER><FONT FACE="Arial,Helvetica">26</FONT></CENTER>
</TD>

<TD VALIGN=CENTER WIDTH="21%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica"><FONT COLOR="#0000FF">sync_mode</FONT></FONT></TD>

<TD VALIGN=CENTER HEIGHT="22"><FONT FACE="Arial,Helvetica">BOOL</FONT></TD>

<TD VALIGN=CENTER WIDTH="24%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">NO</FONT></TD>

<TD VALIGN=CENTER WIDTH="46%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">Hold
out-/inputs as long as unsync is set</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER WIDTH="7%" HEIGHT="22" BGCOLOR="#FFFFFF">
<CENTER><FONT FACE="Arial,Helvetica">27</FONT></CENTER>
</TD>

<TD VALIGN=CENTER WIDTH="21%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica"><FONT COLOR="#0000FF">unsync</FONT></FONT></TD>

<TD VALIGN=CENTER HEIGHT="22"><FONT FACE="Arial,Helvetica">BOOL</FONT></TD>

<TD VALIGN=CENTER WIDTH="24%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">NO&nbsp;</FONT></TD>

<TD VALIGN=CENTER WIDTH="46%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">Reset
the state machine for slave handling</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER WIDTH="7%" HEIGHT="22" BGCOLOR="#FFFFFF">
<CENTER><FONT FACE="Arial,Helvetica">28</FONT></CENTER>
</TD>

<TD VALIGN=CENTER WIDTH="21%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica"><FONT COLOR="#0000FF">clear_data</FONT></FONT></TD>

<TD VALIGN=CENTER HEIGHT="22"><FONT FACE="Arial,Helvetica">BOOL</FONT></TD>

<TD VALIGN=CENTER WIDTH="24%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">NO</FONT></TD>

<TD VALIGN=CENTER WIDTH="46%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">Request
for new parameterization</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER WIDTH="7%" HEIGHT="22" BGCOLOR="#FFFFFF">
<CENTER><FONT FACE="Arial,Helvetica">29</FONT></CENTER>
</TD>

<TD VALIGN=CENTER WIDTH="21%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica"><FONT COLOR="#0000FF">reset_slave</FONT></FONT></TD>

<TD VALIGN=CENTER HEIGHT="22"><FONT FACE="Arial,Helvetica">BOOL</FONT></TD>

<TD VALIGN=CENTER WIDTH="24%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">NO</FONT></TD>

<TD VALIGN=CENTER WIDTH="46%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">Reset
the state machine for slave handling</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER WIDTH="7%" HEIGHT="22" BGCOLOR="#FFFFFF">
<CENTER><FONT FACE="Arial,Helvetica">30</FONT></CENTER>
</TD>

<TD VALIGN=CENTER WIDTH="21%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica"><FONT COLOR="#0000FF">new_prm_request</FONT></FONT></TD>

<TD VALIGN=CENTER HEIGHT="22"><FONT FACE="Arial,Helvetica">BOOL</FONT></TD>

<TD VALIGN=CENTER WIDTH="24%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">NO</FONT></TD>

<TD VALIGN=CENTER WIDTH="46%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">Request
for new parameterization</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER BGCOLOR="#C0C0C0">
<CENTER><FONT FACE="Arial,Helvetica">31</FONT></CENTER>
</TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">Init_counter</FONT></TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">BOOL</FONT></TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">0</FONT></TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">Counter
for starting state machine</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER BGCOLOR="#C0C0C0">
<CENTER>32</CENTER>
</TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">Exchange_cycle</FONT></TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">BOOL</FONT></TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0">&nbsp;</TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">Counter
for valid data transfers</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER WIDTH="7%" HEIGHT="22" BGCOLOR="#C0C0C0">
<CENTER><FONT FACE="Arial,Helvetica">33</FONT></CENTER>
</TD>

<TD VALIGN=CENTER WIDTH="21%" HEIGHT="22" BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">Hardware_error</FONT></TD>

<TD VALIGN=CENTER HEIGHT="22" BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">ALARM</FONT></TD>

<TD VALIGN=CENTER WIDTH="24%" HEIGHT="22" BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">NO</FONT></TD>

<TD VALIGN=CENTER WIDTH="46%" HEIGHT="22" BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">YES
if a hardware error occurs</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER WIDTH="7%" HEIGHT="22" BGCOLOR="#C0C0C0">
<CENTER><FONT FACE="Arial,Helvetica">25</FONT></CENTER>
</TD>

<TD VALIGN=CENTER WIDTH="21%" HEIGHT="22" BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">Software_error</FONT></TD>

<TD VALIGN=CENTER HEIGHT="22" BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">ALARM</FONT></TD>

<TD VALIGN=CENTER WIDTH="24%" HEIGHT="22" BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">NO</FONT></TD>

<TD VALIGN=CENTER WIDTH="46%" HEIGHT="22" BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">YES
if a software error occurs</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER WIDTH="7%" HEIGHT="22" BGCOLOR="#C0C0C0">
<CENTER><FONT FACE="Arial,Helvetica">26</FONT></CENTER>
</TD>

<TD VALIGN=CENTER WIDTH="21%" HEIGHT="22" BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">Module_error</FONT></TD>

<TD VALIGN=CENTER HEIGHT="22" BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">ALARM</FONT></TD>

<TD VALIGN=CENTER WIDTH="24%" HEIGHT="22" BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">NO</FONT></TD>

<TD VALIGN=CENTER WIDTH="46%" HEIGHT="22" BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">YES
if a module error occurs</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER WIDTH="7%" HEIGHT="22" BGCOLOR="#C0C0C0">
<CENTER><FONT FACE="Arial,Helvetica">27</FONT></CENTER>
</TD>

<TD VALIGN=CENTER WIDTH="21%" HEIGHT="22" BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">Last_diag_msg</FONT></TD>

<TD VALIGN=CENTER HEIGHT="22" BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">STRING</FONT></TD>

<TD VALIGN=CENTER WIDTH="24%" HEIGHT="22" BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">NO</FONT></TD>

<TD VALIGN=CENTER WIDTH="46%" HEIGHT="22" BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">Last
diagnostic message</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER WIDTH="7%" HEIGHT="22" BGCOLOR="#C0C0C0">
<CENTER><FONT FACE="Arial,Helvetica">28</FONT></CENTER>
</TD>

<TD VALIGN=CENTER WIDTH="21%" HEIGHT="22" BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">New_error_msg</FONT></TD>

<TD VALIGN=CENTER HEIGHT="22" BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">BOOL</FONT></TD>

<TD VALIGN=CENTER WIDTH="24%" HEIGHT="22" BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">NO</FONT></TD>

<TD VALIGN=CENTER WIDTH="46%" HEIGHT="22" BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">YES
if a new error occurs</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER WIDTH="7%" HEIGHT="22" BGCOLOR="#C0C0C0">
<CENTER><FONT FACE="Arial,Helvetica">31</FONT></CENTER>
</TD>

<TD VALIGN=CENTER WIDTH="21%" HEIGHT="22" BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">Visual</FONT></TD>

<TD VALIGN=CENTER HEIGHT="22" BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">BOOL</FONT></TD>

<TD VALIGN=CENTER WIDTH="24%" HEIGHT="22" BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">NO</FONT></TD>

<TD VALIGN=CENTER WIDTH="46%" HEIGHT="22" BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">YES
if error message popup is visible</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER WIDTH="7%" HEIGHT="22" BGCOLOR="#C0C0C0">
<CENTER><FONT FACE="Arial,Helvetica">32</FONT></CENTER>
</TD>

<TD VALIGN=CENTER WIDTH="21%" HEIGHT="22" BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">Quit</FONT></TD>

<TD VALIGN=CENTER HEIGHT="22" BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">BOOL</FONT></TD>

<TD VALIGN=CENTER WIDTH="24%" HEIGHT="22" BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">NO</FONT></TD>

<TD VALIGN=CENTER WIDTH="46%" HEIGHT="22" BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">YES
if acknowledge error messages</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER WIDTH="7%" HEIGHT="22" BGCOLOR="#FFFFFF">
<CENTER><FONT FACE="Arial,Helvetica">33</FONT></CENTER>
</TD>

<TD VALIGN=CENTER WIDTH="21%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">Error_msg
[10]</FONT></TD>

<TD VALIGN=CENTER HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">STRING</FONT></TD>

<TD VALIGN=CENTER WIDTH="24%" HEIGHT="22" BGCOLOR="#FFFFFF"></TD>

<TD VALIGN=CENTER WIDTH="46%" HEIGHT="22" BGCOLOR="#FFFFFF"><FONT FACE="Arial,Helvetica">Error
message array</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER BGCOLOR="#C0C0C0">
<CENTER><FONT FACE="Arial,Helvetica">34</FONT></CENTER>
</TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">Status</FONT></TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">STRING</FONT></TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">0</FONT></TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">Status
value of the state machine</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER BGCOLOR="#C0C0C0">
<CENTER><FONT FACE="Arial,Helvetica">35</FONT></CENTER>
</TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">Status
string</FONT></TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">Byte</FONT></TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">No valid
Profibus Master</FONT></TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">Status
string of the state machine</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER BGCOLOR="#C0C0C0">
<CENTER><FONT FACE="Arial,Helvetica">36</FONT></CENTER>
</TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">Local_struct</FONT></TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">POINTER</FONT></TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">4320020hex</FONT></TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">Internal
pointer for the local structure</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER BGCOLOR="#C0C0C0">
<CENTER><FONT FACE="Arial,Helvetica">37</FONT></CENTER>
</TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">SPS_Cycle</FONT></TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">code</FONT></TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">Axx_function("profibus_DP",</FONT>&nbsp;
<BR><FONT FACE="Arial,Helvetica">"SPSCycleHandleDPSlave");</FONT></TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">Run the
AXX function</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER>
<CENTER><FONT FACE="Arial,Helvetica">38</FONT></CENTER>
</TD>

<TD VALIGN=CENTER><FONT FACE="Arial,Helvetica">OutputData</FONT></TD>

<TD VALIGN=CENTER><FONT FACE="Arial,Helvetica">USINT</FONT></TD>

<TD VALIGN=CENTER><FONT FACE="Arial,Helvetica">0</FONT></TD>

<TD VALIGN=CENTER><FONT FACE="Arial,Helvetica">Active identifier diagnosis
data length</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER BGCOLOR="#C0C0C0">
<CENTER><FONT FACE="Arial,Helvetica">39</FONT></CENTER>
</TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">DataValid</FONT></TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">USINT</FONT></TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">0</FONT></TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">Identifier
diagnosis data</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER BGCOLOR="#C0C0C0">
<CENTER><FONT FACE="Arial,Helvetica">40</FONT></CENTER>
</TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">ModuleValid</FONT></TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">USINT</FONT></TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">0</FONT></TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">Active
channel diagnosis data length</FONT></TD>
</TR>

<TR>
<TD VALIGN=CENTER BGCOLOR="#C0C0C0">
<CENTER><FONT FACE="Arial,Helvetica">41</FONT></CENTER>
</TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">ModuleName</FONT></TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">USINT</FONT></TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">0</FONT></TD>

<TD VALIGN=CENTER BGCOLOR="#C0C0C0"><FONT FACE="Arial,Helvetica">Channel
diagnosis data</FONT></TD>
</TR>
</TABLE>
&nbsp;

<P><FONT FACE="Arial,Helvetica"><FONT SIZE=+1><A HREF="#Features">Features</A>
| <A HREF="#Installation">lnstallation </A>| <A HREF="#UserInterface">User
Interface</A> | <A HREF="#Configuration">Configuration</A> | <A HREF="#implementation">Implementation
Notes</A></FONT></FONT>

<P>
<HR ALIGN="LEFT" WIDTH="90%">

<P><A NAME="implementation"></A>
<BR><B><FONT FACE="Arial,Helvetica"><FONT COLOR="#0000FF"><FONT SIZE=+3>Implementation
Notes</FONT></FONT></FONT></B>

<P><B><U><FONT FACE="Arial,Helvetica"><FONT SIZE=+1>How to Create your
own Profibus DP Slave</FONT></FONT></U></B>

<P><FONT FACE="Arial,Helvetica">The creation of a compact profibus DP slave
is explained in a concrete example (creating a Vipa compact profibus slave
with 16 digital outputs - sm122_do16).</FONT>
<BR>&nbsp;

<P><B><U><FONT FACE="Arial,Helvetica"><FONT COLOR="#0000FF"><FONT SIZE=+1>1st
Step:</FONT></FONT></FONT></U></B>

<P><B><FONT FACE="Arial,Helvetica">You've to build up the directory and
file structure for the slave</FONT>.</B>

<P><I><FONT FACE="Arial,Helvetica">Create a new directory (vipa) and a
subdirectory (sm122_do16) in the directory classlib/communication/profibus
in your actual project.</FONT></I>

<P><I><FONT FACE="Arial,Helvetica">Copy all files from profibus_slave/compact_slave
(the files listed in <U>Installation</U>) to the&nbsp; subdirectory which
was built up before and rename *.symbol, *.enum, *.color, *.htm to sm122_do16.*
according to the picture below.</FONT></I>

<P><I><FONT FACE="Arial,Helvetica">When you are naming *.symbol files,
be sure to assign meaningful names to be able to recognize later and that
the filename exists only one time in your actual project otherwise you'll
get *.symbol_renamed. Also be sure that *.enum, *.color&nbsp; have the
same filename as the *.symbol file.</FONT></I>
<BR>&nbsp;
<BR><IMG SRC="vipa_demoslave_explorer.gif" HEIGHT=583 WIDTH=548>
<BR>&nbsp;
<BR>&nbsp;

<P><B><FONT FACE="Arial,Helvetica">Copy the GSD file of the new slave into
the directory that the system requires.</FONT></B>

<P><I><FONT FACE="Arial,Helvetica">Copy the vipa04D4.gsd to subdirectory
GSD in the directory "system" of your automationX.</FONT></I>
<BR><FONT FACE="Arial,Helvetica">&nbsp;</FONT>
<BR><IMG SRC="vipa_demoslave_GSD_copy.gif" HEIGHT=390 WIDTH=548>
<BR>&nbsp;
<BR>&nbsp;
<BR>&nbsp;
<BR><B><U><FONT FACE="Arial,Helvetica"><FONT COLOR="#0000FF"><FONT SIZE=+1>2nd
Step:</FONT></FONT></FONT></U></B>

<P><B><FONT FACE="Arial,Helvetica">Start automationX, edit a tree, create
a new library and insert the new class, enter instancename and remark,assign
the profibus master and assign the Profibus slave address.</FONT></B>

<P><I><FONT FACE="Arial,Helvetica">Creating a new library named VIPA:</FONT></I>
<BR><I><FONT FACE="Arial,Helvetica">On the top of the explorer window in
edit mode (AX-Builder), click on the right mouse button . From the appearing
list select "Create Lib".</FONT></I>
<BR>&nbsp;

<P><IMG SRC="vipa_demoslave_createlib1.gif" HEIGHT=300 WIDTH=457>
<BR>&nbsp;

<P><I><FONT FACE="Arial,Helvetica">&nbsp;Insert a class name (VIPA) and
click on the OK button.</FONT></I>

<P><IMG SRC="vipa_demoslave_creatlib2.gif" HEIGHT=113 WIDTH=473>
<BR>&nbsp;

<P><I><FONT FACE="Arial,Helvetica">Inserting the new class (sm122_do16):</FONT></I>
<BR><I><FONT FACE="Arial,Helvetica">Open the VIPA library and insert the
sm122_do16 class by a right mouseclick on the selection field. Select from
the appearing list "Insert Class".</FONT></I>

<P><IMG SRC="vipa_demoslave_insclass1.gif" HEIGHT=300 WIDTH=456>
<BR>&nbsp;

<P><I><FONT FACE="Arial,Helvetica">Select the&amp;acute;sm122_do16.symbol
and click on the OK button.</FONT></I>

<P><IMG SRC="vipa_demoslave_insclass2.gif" HEIGHT=303 WIDTH=520>
<BR>&nbsp;

<P><I><FONT FACE="Arial,Helvetica">Select the sm122_do16 class and drop
an instance of it into the picture window. With the slave object selected,
enter a unique instancename and remark in the declaration field of the
configuration panel.</FONT></I>

<P><I><FONT FACE="Arial,Helvetica">When you are naming I/O modules, be
sure to assign meaningful names that you will be able to recognize later.</FONT></I>

<P>&nbsp;&nbsp;&nbsp; <I><FONT FACE="Arial,Helvetica">Instancename: sm122_do16</FONT></I>
<BR><I><FONT FACE="Arial,Helvetica">&nbsp;&nbsp;&nbsp; Remark: compact
slave 16 digital outputs</FONT></I>
<BR>&nbsp;

<P><B><FONT FACE="Arial,Helvetica">Assign the Master:</FONT></B>

<P><I><FONT FACE="Arial,Helvetica">Open the Server Data tab. Find the resource
called "master" in the data list. Click the value field with the left mouse
button.</FONT></I>
<BR><I><FONT FACE="Arial,Helvetica">automationX automatically detects the
master and presents it in a drop down list.</FONT></I>
<BR><I><FONT FACE="Arial,Helvetica">Choose the master from the list.</FONT></I>

<P><IMG SRC="vipa_demoslave_assignmaster.gif" HEIGHT=280 WIDTH=455>
<BR>&nbsp;

<P><B><FONT FACE="Arial,Helvetica">Assign Profibus Slave Address:</FONT></B>

<P><I><FONT FACE="Arial,Helvetica">Find the resource called "address" in
the Server Data list. Use the increment/decrement arrows to set the address
number of the slave.</FONT></I>

<P><I><FONT FACE="Arial,Helvetica">For example, if the address of the slave
is 3 you need to set the number to 3. When you save the display, you will
see this number reflected on the object`s&nbsp; address display.</FONT></I>
<BR>&nbsp;
<BR><IMG SRC="vipa_demoslave_slaveaddress.gif" HEIGHT=278 WIDTH=455>
<BR>&nbsp;
<BR>&nbsp;
<BR>&nbsp;

<P><B><U><FONT FACE="Arial,Helvetica"><FONT COLOR="#0000FF"><FONT SIZE=+1>3rd
Step:</FONT></FONT></FONT></U></B>

<P><B><FONT FACE="Arial,Helvetica">Set the new configuration of the sm122_do16.</FONT></B>

<P><I><FONT FACE="Arial,Helvetica">Edit the sm122_do16 class with right
mouseclick on the selected object and choose "Edit Class" from the appearing
list.</FONT></I>

<P><IMG SRC="vipa_demoslave_edtclass.gif" HEIGHT=582 WIDTH=230>
<BR>&nbsp;

<P><I><FONT FACE="Arial,Helvetica">A new AX-Builder gets started now. Open
the server data tab and find the resource called "GSD" and change the entry
to the gsd filename which was copied in the first step.</FONT></I>
<BR><I><FONT FACE="Arial,Helvetica">Also find the recource called "ModuleName"
and change the entry to the name of the slave module. The name of the slave
module is found in the gsd file.</FONT></I>
<BR><I><FONT FACE="Arial,Helvetica">Edit the gsd file with any editor (WordPad,
...) and search for the module name. Change the entry in the resource "ModuleName"
to the string which is shown in the gsd file (marked in the picture below).
Also set the attributes "constant" and "private" at both resources.</FONT></I>

<P>&nbsp;

<P><IMG SRC="vipa_demoslave_gsdedit.gif" HEIGHT=230 WIDTH=543>
<BR>&nbsp;
<BR>&nbsp;
<BR><I><FONT FACE="Arial,Helvetica">Please remember that the system is
case sensitive and that any entry must be finished by a return.</FONT></I>

<P><IMG SRC="vipa_demoslave_gsdchange.gif" HEIGHT=279 WIDTH=455>
<BR>&nbsp;
<BR>&nbsp;
<BR><I><FONT FACE="Arial,Helvetica">Turn the watchdog timer on by activating
the resource "wd_on"n. The time of the watchdogtimer can be changed with
the resources "wd_fact1" and "wd_fact2".</FONT></I>
<BR><FONT FACE="Arial,Helvetica">Watchdogtime = wd_fact1 * wd_fact2 * 10
ms.</FONT>
<BR>&nbsp;
<BR><IMG SRC="vipa_demoslave_watchdog.gif" HEIGHT=278 WIDTH=455>
<BR>&nbsp;
<BR>&nbsp;

<P><B><U><FONT FACE="Arial,Helvetica"><FONT COLOR="#0000FF"><FONT SIZE=+1>4th
Step:</FONT></FONT></FONT></U></B>

<P><B><FONT FACE="Arial,Helvetica">Change the graphical representation</FONT></B>

<P><I><FONT FACE="Arial,Helvetica">You can change class colors and the
order of the components.</FONT></I>
<BR><I><FONT FACE="Arial,Helvetica">When all changes are done save and
install your work with the "save and install" button.</FONT></I>

<P><IMG SRC="vipa_demoslave_graphchange.gif" HEIGHT=700 WIDTH=900><I><FONT FACE="Arial,Helvetica">&nbsp;</FONT></I>
<BR><B><U><FONT FACE="Arial,Helvetica"><FONT COLOR="#0000FF"><FONT SIZE=+1>5th
Step:</FONT></FONT></FONT></U></B>

<P><B><FONT FACE="Arial,Helvetica">Communication</FONT></B>

<P><I><FONT FACE="Arial,Helvetica">The last step is to build up communication
between profibus master and slave. Connect your slave per profibus cable
with the ISA card in your computer.</FONT></I>
<BR><I><FONT FACE="Arial,Helvetica">Make sure that there's a profibus card
on your ISA card which is displayed in the server window (card green- MIO
I/O drivers are installed and card is in ring)</FONT></I>
<BR><I><FONT FACE="Arial,Helvetica">automationX starts building up communication
automatically&nbsp; (if there's communication between master and slave,
the "Status display" on the slave turns from red to green).</FONT></I>

<P><U><FONT FACE="Arial,Helvetica">Some troubles that may occur:</FONT></U>

<P><FONT FACE="Arial,Helvetica">The status display on the graphical representation
displays:&nbsp;&nbsp;&nbsp; SlaveDiag1: No communication between master
and slave</FONT>
<BR><FONT FACE="Arial,Helvetica">&nbsp;</FONT>
<BR><FONT FACE="Arial,Helvetica">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
SaveDiag2: Wrong parametrization or configuration of master or slave</FONT>
<BR>&nbsp;
<BR>&nbsp;
<BR>&nbsp;

<P><B><U><FONT FACE="Arial,Helvetica"><FONT COLOR="#0000FF"><FONT SIZE=+1>Additional
Notes:</FONT></FONT></FONT></U></B>

<P><FONT FACE="Arial,Helvetica">For creating a slave with digital inputs
a few resources must be changed</FONT>

<P><FONT FACE="Arial,Helvetica">Output variables must be changed to input
variables (Q0_0 to I0_0, ...)</FONT>
<BR><FONT FACE="Arial,Helvetica">"Output data" array must be changed to
an "Input data" array.</FONT>
<BR>&nbsp;

<P><FONT FACE="Arial,Helvetica"><FONT SIZE=+1><A HREF="#Features">Features</A>
| <A HREF="#Installation">lnstallation </A>| <A HREF="#UserInterface">User
Interface</A> | <A HREF="#Configuration">Configuration</A> | <A HREF="#implementation">Implementation
Notes</A></FONT></FONT>

<P>
<HR ALIGN="LEFT" WIDTH="90%">
</BODY>
</HTML>
